{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block page_content %}

<h2 class="jumbotron text-center" style="opacity: 90%;">The Glider</h2>
<div class="text-center">
	<img src="/static/images/glider.jpg" alt="Girl in a jacket" width="500" height="600" style="border-radius: 10px">
</div>
<h2>Speed and Trim</h2>
<p style="background-color: white; padding: 20px; opacity: 80%;">
	Popular for their speed, the glider is one of the most classic style of surfboards out there. Most gliders are larger boards in the 10-12ft range. They have unique concaves that run along the bottom of the board that allow the water to funnel through it while trimming waves at high speed. Gliders can be ridden in waves from knee to shoulder high. 
</p>

<h2>Reviews!</h2>

<ul class="posts">
	{% for review in reviews %}
	<li class="post" style="background-color: white; opacity: 80%;">
		<div class="post-author">
			Author - {{ review.author.username }}
		</div>
		<div>
			{{ review.timestamp.date() }}
		</div>
		<div>
			{{ review.review }}
		</div>
		{% if current_user == review.author %}
		<a class="btn btn-warning btn-s" data-toggle="modal" data-target="#editModal{{review.id}}">Edit</a>
		<a href="/gliderdelete/{{review.id}}" class="btn btn-danger btn-s" onclick="return confirm('Are you sure you want to delete this review? This cannot be undone.')">Delete</a>
		{% endif %}
	</li>

	<div class="modal fade" id="editModal{{review.id}}" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				 <div class="modal-header">
					 <h2>Edit Your Comment</h2>
				 </div>
				 <div class="modal-body">
					 
					 <form action="/glideredit/{{review.id}}" method="POST">
						{{ form.hidden_tag() }}
						<!-- Form rendering referenced from WTForms documentation -->
						<!-- help from https://stackoverflow.com/questions/19645028/passing-a-value-to-wtforms-field-with-jinja2/19645147 -->
						<div class="form-group">
							{{form.body.label}} <br>
							{{form.body(class_="form-control", value=review.review)}}
						</div>
						<br/>
						<p>
							{{form.submit(class_="btn btn-primary")}}
						</p>
					</form>

				 </div>
				 <div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				  </div>
			</div>
		</div>
	</div>
		
	{% endfor %}

</ul>

<div>
    {{ wtf.quick_form(form) }}
</div>

{% endblock %}